<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spyfall Game</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>

<body>

    <div class="container my-3">
        <div class="row d-flex justify-content-center align-items-center">
            <div class="col-md-6 text-center">
                <h3 class="text-secondary">Welcome to Spyfall</h3>
                <div class="border border-2 my-3"></div>

                <div class="my-3 d-flex justify-content-center align-items-center gap-2 flex-wrap">
                    <div id="newGameSection" class="d-flex align-items-center gap-2">
                        <button class="btn btn-light text-dark border border-dark bg-white px-4 text-uppercase"
                            onclick="newGameAction()">New Game</button>
                        <input type="text" id="newGameInput" class="form-control d-none" placeholder="Enter your name"
                            style="max-width: 200px;">
                    </div>

                    <div id="joinGameSection" class="d-flex align-items-center gap-2">
                        <button class="btn btn-light text-dark border border-dark bg-white px-4 text-uppercase"
                            onclick="joinGameAction()">Join Game</button>
                        <input type="text" id="joinGameInput" class="form-control d-none" placeholder="Enter Game Code"
                            style="max-width: 200px;">
                    </div>
                </div>

                <div class="mt-3">
                    <h6 class="text-secondary" style="font-size: 18px;">How does it work?</h6>
                    <p class="text-secondary px-4"> The game host starts the round, and the game begins. The dealer
                        then asks one of the players a question, calling them by name... (summary here) </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let newGameClicked = false;
        let joinGameClicked = false;

        function newGameAction() {
            const input = document.getElementById('newGameInput');

            if (!newGameClicked) {
                // First click → show input, hide join game section button/input
                newGameClicked = true;
                input.classList.remove('d-none');
                document.querySelector('#joinGameSection button').style.display = 'none';
                document.querySelector('#joinGameInput').classList.add('d-none');
            } else {
                // Second click → if input empty show alert, else store name → next page
                const name = input.value.trim();
                if (name === "") {
                    alert("Please enter your name.");
                } else {
                    localStorage.setItem('playerName', name);
                    window.location.href = "nextpage.html"; // Change to your actual next page URL
                }
            }
        }

        function joinGameAction() {
            const input = document.getElementById('joinGameInput');

            if (!joinGameClicked) {
                // First click → show input, hide new game section button/input
                joinGameClicked = true;
                input.classList.remove('d-none');
                document.querySelector('#newGameSection button').style.display = 'none';
                document.querySelector('#newGameInput').classList.add('d-none');
            } else {
                // Second click → if input empty show alert, else perform join logic (you will tell me later)
                const code = input.value.trim();
                if (code === "") {
                    alert("Please enter the game code.");
                } else {
                    // Example → localStorage.setItem('gameCode', code);
                    alert("Joining game with code: " + code);
                    // window.location.href = "joinpage.html"; // Update as needed
                }
            }
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>
</body>

</html> -->

<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spyfall Game</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
</head>

<body>

    <div class="container my-3">
        <div class="row d-flex justify-content-center align-items-center">
            <div class="col-md-6 text-center">
                <h3 class="text-secondary">Welcome to Spyfall</h3>
                <div class="border border-2 my-3"></div>

                <div class="my-3 d-flex justify-content-center align-items-center gap-2 flex-wrap">
                    <div id="newGameSection" class="d-flex align-items-center gap-2">
                        <button class="btn btn-light text-dark border border-dark bg-white px-4 text-uppercase"
                            onclick="newGameAction()">New Game</button>
                        <input type="text" id="newGameInput" class="form-control d-none" placeholder="Enter your name"
                            style="max-width: 200px;">
                    </div>

                    <div id="joinGameSection" class="d-flex align-items-center gap-2">
                        <button class="btn btn-light text-dark border border-dark bg-white px-4 text-uppercase"
                            onclick="joinGameAction()">Join Game</button>
                        <input type="text" id="joinGameInput" class="form-control d-none" placeholder="Enter Game Code"
                            style="max-width: 200px;">
                    </div>
                </div>

                <div class="mt-3">
                    <h6 class="text-secondary" style="font-size: 18px;">How does it work?</h6>
                    <p class="text-secondary px-4"> The game host starts the round, and the game begins. The dealer
                        then asks one of the players a question, calling them by name... (summary here)</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let newGameClicked = false;
        let joinGameClicked = false;

        function generateGameCode(length = 5) {
            const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';
            let code = '';
            for (let i = 0; i < length; i++) {
                code += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return code;
        }

        function newGameAction() {
            const input = document.getElementById('newGameInput');
            const savedName = localStorage.getItem('playerName');

            if (savedName) {
                // If name is already stored → generate code → save → redirect
                const gameCode = generateGameCode();
                localStorage.setItem('gameCode', gameCode);
                console.log("Generated Code:", gameCode);
                window.location.href = "nextpage.html"; // <-- Change this to your actual next page
                return;
            }

            if (!newGameClicked) {
                // First click → show input, hide join game button
                newGameClicked = true;
                input.classList.remove('d-none');
                document.querySelector('#joinGameSection button').style.display = 'none';
                document.querySelector('#joinGameInput').classList.add('d-none');
            } else {
                // Second click → save name → generate code → save → redirect
                const name = input.value.trim();
                if (name === "") {
                    alert("Please enter your name.");
                } else {
                    localStorage.setItem('playerName', name);
                    const gameCode = generateGameCode();
                    localStorage.setItem('gameCode', gameCode);
                    console.log("Generated Code:", gameCode);
                    window.location.href = "nextpage.html"; // <-- Change this to your actual next page
                }
            }
        }

        function joinGameAction() {
            const input = document.getElementById('joinGameInput');

            if (!joinGameClicked) {
                joinGameClicked = true;
                input.classList.remove('d-none');
                document.querySelector('#newGameSection button').style.display = 'none';
                document.querySelector('#newGameInput').classList.add('d-none');
            } else {
                const code = input.value.trim();
                if (code === "") {
                    alert("Please enter the game code.");
                } else {
                    alert("Joining game with code: " + code);
                    // window.location.href = "joinpage.html";  // You can update this later
                }
            }
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
</body>

</html> -->


<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spyfall Game</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
</head>

<body>

    <div class="container my-3">
        <div class="row d-flex justify-content-center align-items-center">
            <div class="col-md-6 text-center">
                <h3 class="text-secondary">Welcome to Spyfall</h3>
                <div class="border border-2 my-3"></div>

                <div class="my-3 d-flex justify-content-center align-items-center gap-2 flex-wrap">
                    <div id="newGameSection" class="d-flex align-items-center gap-2">
                        <button class="btn btn-light text-dark border border-dark bg-white px-4 text-uppercase"
                            onclick="newGameAction()">New Game</button>
                        <input type="text" id="newGameInput" class="form-control d-none" placeholder="Enter your name"
                            style="max-width: 200px;">
                    </div>
                    <div id="joinGameSection" class="d-flex align-items-center gap-2">
                        <button class="btn btn-light text-dark border border-dark bg-white px-4 text-uppercase"
                            onclick="joinGameAction()">Join Game</button>
                        <input type="text" id="joinGameInput" class="form-control d-none" placeholder="Enter Game Code"
                            style="max-width: 200px;">
                    </div>
                </div>

                <div class="mt-3">
                    <h6 class="text-secondary" style="font-size: 18px;">How does it work?</h6>
                    <p class="text-secondary px-4"> The game host starts the round, and the game begins. The dealer
                        then asks one of the players a question, calling them by name... (summary here)</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let newGameClicked = false;
        let joinGameClicked = false;

        function generateGameCode(length = 5) {
            const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';
            let code = '';
            for (let i = 0; i < length; i++) {
                code += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return code;
        }

        function newGameAction() {
            const input = document.getElementById('newGameInput');
            const savedName = localStorage.getItem('playerName');

            if (!newGameClicked) {
                // First click → show input, hide join game button
                newGameClicked = true;
                input.classList.remove('d-none');
                document.querySelector('#joinGameSection button').style.display = 'none';
                document.querySelector('#joinGameInput').classList.add('d-none');
                return;
            }

            const name = savedName || input.value.trim();
            if (!name) {
                alert("Please enter your name.");
                return;
            }

            // Save name if not already saved
            if (!savedName) {
                localStorage.setItem('playerName', name);
            }

            // Generate new random game code every click
            const gameCode = generateGameCode();
            localStorage.setItem('gameCode', gameCode);

            // Redirect to nextpage.html with code as URL query param
            window.location.href = `nextpage.html?code=${gameCode}`;
        }

        function joinGameAction() {
            const input = document.getElementById('joinGameInput');

            if (!joinGameClicked) {
                joinGameClicked = true;
                input.classList.remove('d-none');
                document.querySelector('#newGameSection button').style.display = 'none';
                document.querySelector('#newGameInput').classList.add('d-none');
            } else {
                const code = input.value.trim();
                if (code === "") {
                    alert("Please enter the game code.");
                } else {
                    alert("Joining game with code: " + code);
                    // Example → window.location.href = `joinpage.html?code=${code}`;
                }
            }
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
</body>

</html> -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spyfall Game</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
</head>

<body>

    <div class="container my-3">
        <div class="row d-flex justify-content-center align-items-center">
            <div class="col-md-6 text-center">
                <h3 class="text-secondary">Welcome to Spyfall</h3>
                <div class="border border-2 my-3"></div>

                <div class="my-3 d-flex justify-content-center align-items-center gap-2 flex-wrap">
                    <div id="newGameSection" class="d-flex align-items-center gap-2">
                        <button id="newGameBtn"
                            class="btn btn-light text-dark border border-dark bg-white px-4 text-uppercase">New
                            Game</button>
                        <input type="text" id="newGameInput" class="form-control d-none" placeholder="Enter your name"
                            style="max-width: 200px;">
                    </div>

                    <div id="joinGameSection" class="d-flex align-items-center gap-2">
                        <button id="joinGameBtn"
                            class="btn btn-light text-dark border border-dark bg-white px-4 text-uppercase">Join
                            Game</button>
                        <input type="text" id="joinGameInput" class="form-control d-none" placeholder="Enter Game Code"
                            style="max-width: 200px;">
                    </div>
                </div>

                <div class="mt-3">
                    <h6 class="text-secondary" style="font-size: 18px;">How does it work?</h6>
                    <p class="text-secondary px-4"> The game host starts the round, and the game begins. The dealer then
                        asks one of the players a question, calling them by name... </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const newGameBtn = document.getElementById('newGameBtn');
        const joinGameBtn = document.getElementById('joinGameBtn');
        const newGameInput = document.getElementById('newGameInput');
        const joinGameInput = document.getElementById('joinGameInput');

        let newGameClicked = false;
        let joinGameClicked = false;

        // Generate random code
        function generateGameCode(length = 5) {
            const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';
            let code = '';
            for (let i = 0; i < length; i++) {
                code += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return code;
        }

        // New Game button click
        newGameBtn.addEventListener('click', () => {
            const savedName = localStorage.getItem('playerName');

            if (savedName) {
                // If name is already saved → directly generate code and go to next page
                const gameCode = generateGameCode();
                localStorage.setItem('gameCode', gameCode);
                window.location.href = `nextpage.html?code=${gameCode}`;
                return;
            }

            if (!newGameClicked) {
                newGameClicked = true;
                newGameInput.classList.remove('d-none');
                joinGameBtn.style.display = 'none';
                joinGameInput.classList.add('d-none');
                return;
            }

            const name = newGameInput.value.trim();
            if (name === "") {
                alert("Please enter your name.");
                return;
            }

            localStorage.setItem('playerName', name);

            const gameCode = generateGameCode();
            localStorage.setItem('gameCode', gameCode);
            window.location.href = `nextpage.html?code=${gameCode}`;
        });

        // Join Game button click
        joinGameBtn.addEventListener('click', () => {
            if (!joinGameClicked) {
                joinGameClicked = true;
                joinGameInput.classList.remove('d-none');
                newGameBtn.style.display = 'none';
                newGameInput.classList.add('d-none');
                return;
            }

            const code = joinGameInput.value.trim();
            if (code === "") {
                alert("Please enter the game code.");
                return;
            }

            // Directly go to the SAME page with code in URL
            window.location.href = `${window.location.pathname}?code=${code}`;
        });

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
</body>

</html>

<!-- 
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spyfall Game</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
</head>

<body>

    <div class="container my-3">
        <div class="row d-flex justify-content-center align-items-center">
            <div class="col-md-6 text-center">
                <h3 class="text-secondary">Welcome to Spyfall</h3>
                <div class="border border-2 my-3"></div>

                <div class="my-3 d-flex justify-content-center align-items-center gap-2 flex-wrap">
                    <div id="newGameSection" class="d-flex align-items-center gap-2">
                        <button id="newGameBtn"
                            class="btn btn-light text-dark border border-dark bg-white px-4 text-uppercase">New
                            Game</button>
                        <input type="text" id="newGameInput" class="form-control d-none" placeholder="Enter your name"
                            style="max-width: 200px;">
                    </div>

                    <div id="joinGameSection" class="d-flex align-items-center gap-2">
                        <button id="joinGameBtn"
                            class="btn btn-light text-dark border border-dark bg-white px-4 text-uppercase">Join
                            Game</button>
                        <input type="text" id="joinGameInput" class="form-control d-none" placeholder="Enter Game Code"
                            style="max-width: 200px;">
                    </div>
                </div>

                <div class="mt-3">
                    <h6 class="text-secondary" style="font-size: 18px;">How does it work?</h6>
                    <p class="text-secondary px-4"> The game host starts the round, and the game begins. The dealer then
                        asks one of the players a question, calling them by name... </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const newGameBtn = document.getElementById('newGameBtn');
        const joinGameBtn = document.getElementById('joinGameBtn');
        const newGameInput = document.getElementById('newGameInput');
        const joinGameInput = document.getElementById('joinGameInput');

        let newGameClicked = false;
        let joinGameClicked = false;

        // Generate random code
        function generateGameCode(length = 5) {
            const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';
            let code = '';
            for (let i = 0; i < length; i++) {
                code += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return code;
        }

        // New Game button click
        newGameBtn.addEventListener('click', () => {
            const savedName = localStorage.getItem('playerName');

            if (savedName) {
                // If name is already saved → directly generate code and go to next page
                const gameCode = generateGameCode();
                localStorage.setItem('gameCode', gameCode);
                window.location.href = `nextpage.html?code=${gameCode}`;
                return;
            }

            if (!newGameClicked) {
                newGameClicked = true;
                newGameInput.classList.remove('d-none');
                joinGameBtn.style.display = 'none';
                joinGameInput.classList.add('d-none');
                return;
            }

            const name = newGameInput.value.trim();
            if (name === "") {
                alert("Please enter your name.");
                return;
            }

            localStorage.setItem('playerName', name);

            const gameCode = generateGameCode();
            localStorage.setItem('gameCode', gameCode);
            window.location.href = `nextpage.html?code=${gameCode}`;
        });

        // Join Game button click
        joinGameBtn.addEventListener('click', () => {
            if (!joinGameClicked) {
                joinGameClicked = true;
                joinGameInput.classList.remove('d-none');
                newGameBtn.style.display = 'none';
                newGameInput.classList.add('d-none');
                return;
            }

            const code = joinGameInput.value.trim();
            if (code === "") {
                alert("Please enter the game code.");
                return;
            }

            // Directly go to the SAME page with code in URL
            window.location.href = `${window.location.pathname}?code=${code}`;
        });

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
</body>

</html> -->
